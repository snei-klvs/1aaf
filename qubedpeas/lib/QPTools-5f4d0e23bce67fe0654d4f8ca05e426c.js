!function(){"undefined"==typeof window&&(window={console:function(){}},"undefined"!=typeof console&&(window.console=console)),window.console||(window.console={});for(var e=["log","info","warn","error","debug","trace","dir","group","groupCollapsed","groupEnd","time","timeEnd","profile","profileEnd","dirxml","assert","count","markTimeline","timeStamp","clear"],t=0;t<e.length;t++)window.console[e[t]]||(window.console[e[t]]=function(){})}(),function(){QPU={window:"undefined"==typeof window?{}:window,isNullOrEmpty:function(e){return QPU.isNoE(e)},isA:function(e){return!QPU.isNoE(e)},isNoE:function(e){return"undefined"==typeof e||(null===e||(arguments.length>1?QPU.isAnyNoE.apply(this,arguments):QPU.isArray(e)?e.length<1||!(1!==e.length||!QPU.isNoE(e[0])):!!(e.jquery&&e.length<1)||""===QPU.getStringValue(e)))},isAnyNoE:function(){if("undefined"==typeof arguments)return!0;for(var e=0;e<arguments.length;e++)if(QPU.isNoE(arguments[e]))return!0;return!1},getStringValue:function(e){if("undefined"==typeof e||null===e)return"";try{return e.toString()}catch(e){return""}},getBooleanValue:function(e){var t=QPU.getStringValue(e).toLowerCase();switch(t){case"true":return!0;case"t":return!0;case"1":return!0;case"yes":return!0;case"y":return!0;case"checked":return!0;case"selected":return!0;case"on":return!0;default:return!1}},getFloatValue:function(e){if(QPU.isNoE(e))return 0;var t=0;try{t=parseFloat(e),isNaN(t)&&(t=0)}catch(e){}return t},getIntValue:function(e){if(QPU.isNoE(e))return 0;var t=0;try{t=parseInt(e),isNaN(t)&&(t=0)}catch(e){}return Math.floor(t)},getIntValueByRounding:function(e){if(QPU.isNoE(e))return 0;var t=0;try{t=Math.round(e),isNaN(t)&&(t=0)}catch(e){}return t},random:function(e,t){if(e=parseInt(e),t=parseInt(t),isNaN(e)&&(e=10),isNaN(t)&&(t=0),t>e){var n=t;t=e,e=n}return Math.floor(Math.random()*(e+1-t))+t},flipIsHeads:function(){var e=QPU.random(1);return 1==e},roll:function(e){return QPU.random(Math.max(1,e),1)},toType:function(e){return{}.toString.call(e).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()},merge:function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)if(n.hasOwnProperty(r)){var s=n[r],i=e[r]||null;null===i||"object"!=typeof s?e[r]=s:e[r]=QPU.merge(i,s)}}return e},combineIntoNewObject:function(){for(var e={},t=[].slice.apply(arguments),n=[e],r=0;r<t.length;r++)n.push(JSON.parse(JSON.stringify(t[r])));return QPU.merge.apply(this,n)},toJSONWithFuncs:function(e){Object.prototype.toJSON=function(){var e,t={};for(e in this)this.hasOwnProperty(e)&&(t[e]="function"==typeof this[e]?this[e].toString():this[e]);return t};var t=JSON.stringify(e);return delete Object.prototype.toJSON,t},setRepeat:function(e,t,n,r){function s(n){n>=0&&(e.call(this),setTimeout(function(){s(--n)},t))}n=n||1,t=t||1e3,r?s(--n):setTimeout(function(){s(--n)},t)},queryUrlParam:function(e){if(QPU.isNoE(QPU.window)||QPU.isNoE(e))return"";e=e.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var t="[\\?&]"+e+"=([^&#]*)",n=new RegExp(t,"i"),r=n.exec(QPU.window.location.href);return null===r?"":r[1]},locationContainsURLParam:function(e){if(QPU.isNoE(e))return!1;var t=QPU.fRight(window.location.search,"?");if(QPU.isNoE(t))return!1;for(var n=t.split("&"),r=[],s=0;s<n.length;s++){var i=n[s];QPU.contains(i,"=")?r.push(QPU.fLeft(i,"=").toLowerCase()):r.push(i.toLowerCase())}return r.contains(e.toLowerCase())},getURLParamValue:function(e){return QPU.queryUrlParam(e)},assertLog:function(e,t,n){e?log("PASS: "+t):QPU.isNoE(n)?console.error("FAIL: "+t):console.error("FAIL: "+n)},trim:function(e){return QPU.isNoE(e)||!QPU.isString(e)?e:e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")},stripNonNumeric:function(e,t){if("undefined"==typeof e)return null;if(null==e)return null;if(""===e)return"";if("string"!=typeof e)return null;var n=/[^0-9]/g;return t&&(n=/[^0-9\.]/g),e.replace(n,"")},stripNonAlphaNumeric:function(e,t,n){if("undefined"==typeof e)return null;if(null==e)return null;if(""===e)return"";if("string"!=typeof e)return null;var r=/[^0-9a-zA-Z]/g;return t?r=/[^0-9a-zA-Z ]/g:t&&n?r=/[^0-9a-zA-Z \.]/g:n&&(r=/[^0-9a-zA-Z\.]/g),e.replace(r,"")},fLeft:function(e,t){if(QPU.isNoE(e)||QPU.isNoE(t))return"";e=QPU.getStringValue(e),t=QPU.getStringValue(t);var n=e.indexOf(t);return n>-1?e.substring(0,n):""},fLeftBack:function(e,t){if(QPU.isNoE(e)||QPU.isNoE(t))return"";e=QPU.getStringValue(e),t=QPU.getStringValue(t);var n=e.lastIndexOf(t);return n>-1?e.substring(0,n):""},fRight:function(e,t){if(QPU.isNoE(e)||QPU.isNoE(t))return"";e=QPU.getStringValue(e),t=QPU.getStringValue(t);var n=e.indexOf(t);return n>-1?e.substring(n+t.length,e.length):""},fRightBack:function(e,t){if(QPU.isNoE(e)||QPU.isNoE(t))return"";e=QPU.getStringValue(e),t=QPU.getStringValue(t);var n=e.lastIndexOf(t);return n>-1?e.substring(n+t.length,e.length):""},fBetween:function(e,t,n){return QPU.fLeft(QPU.fRight(e,t),n)},fBetweenOuter:function(e,t,n){return QPU.fLeftBack(QPU.fRight(e,t),n)},replaceFor:function(e,t,n){if("undefined"==typeof e)return null;if(null==e)return null;if(""===e)return"";if("string"!=typeof e)return null;if(QPU.isNoE(t))return e;if(QPU.isNoE(n)&&(n=""),t===n)return e;for(var r=e,s="",i="",o=0,l=-1;r.indexOf(t)>-1;)o++,l=r.indexOf(t),s.length>0||o>1?s+=n+r.substring(0,l):s=r.substring(0,l),i=r.substring(l+t.length,r.length),r=i;return o>0?s+=n+r:s=r,s},zeroFill:function(e,t){var n=e+"",r="";"-"===n.charAt(0)&&(r="-",n=n.slice(1));var s=QPU.padLeft("",t,"0"),i=Math.max(t-n.length,0);return r+s.slice(0,i)+n},padRight:function(e,t,n){if(QPU.isNoE(n))return e;for(e=QPU.getStringValue(e);e.length<t;)e+=n;return e},padLeft:function(e,t,n){if(QPU.isNoE(n))return e;for(e=QPU.getStringValue(e);e.length<t;)e=n+e;return e},occurrences:function(e,t,n){if(e+="",t+="",t.length<=0)return e.length+1;if(e.length<=0)return 0;for(var r=0,s=0,i=n?1:t.length;;){if(s=e.indexOf(t,s),!(s>=0))break;r++,s+=i}return r},contains:function(e,t,n){return!QPU.isNoE(t)&&("string"==typeof e&&(n?e.toLowerCase().indexOf(t.toLowerCase())>-1:e.indexOf(t)>-1))},endsWith:function(e,t,n){return!(QPU.isNoE(e)||QPU.isNoE(t)||!QPU.isString(e))&&(n?e.toLowerCase().slice(-t.length)==t.toLowerCase():e.slice(-t.length)==t)},startsWith:function(e,t,n){return!QPU.isNoE(e)&&!QPU.isNoE(t)&&(n?e.toLowerCase().slice(0,t.length)==t.toLowerCase():e.slice(0,t.length)==t)},removeDblSlashFromURL:function(e){if(QPU.isNoE(e))return null;var t=new RegExp(/([^:\/])\/\//g);return e.replace(t,"$1/").replace(t,"$1/")},normalizeUrl:function(e){if(e=QPU.removeDblSlashFromURL(e),QPU.isNoE(e))return null;var t=new RegExp(/\/[^\/\.]*\/\.\.\//g);return e.replace(t,"/").replace(t,"/")},dateFromYMD:function(e){var t=QPU.fLeft(e,"-"),n=QPU.fBetween(e,"-","-"),r=QPU.fRightBack(e,"-");return""==t||""==n||""==r?null:new Date(t,n-1,r)},ymdhmsFromDate:function(e){return QPU.isNoE(e)&&(e=new Date),dateFormat(e,"yyyy-mm-dd HH:MM:ss")},isDateBeforeDate:function(e,t){return!QPU.isNoE(e)&&!QPU.isNoE(t)&&e.getTime()<t.getTime()},isDateAfterDate:function(e,t){return!QPU.isNoE(e)&&!QPU.isNoE(t)&&e.getTime()>t.getTime()},ymdFromDate:function(e){return QPU.isNoE(e)?null:dateFormat(e,"yyyy-mm-dd")},ymdDaysAgo:function(e,t){QPU.isNoE(t)&&(t=new Date),e=Math.max(e,0);var n=QPU.getDateBySubtractingDaysFromDate(t,e);return QPU.ymdFromDate(n)},ymdDaysFuture:function(e,t){QPU.isNoE(t)&&(t=new Date),e=Math.max(e,0);var n=QPU.getDateByAddingDaysToDate(t,e);return QPU.ymdFromDate(n)},dateInTZ:function(e,t){if(QPU.isNoE(e))return t||QPU.now();if(e!=QPU.getFloatValue(e))return null;QPU.isNoE(t)&&(t=QPU.now());var n=t.getTime()+6e4*t.getTimezoneOffset();return new Date(n+36e5*e)},getDateRelativeToTZOffset:function(e,t){if(QPU.isNoE(e)||QPU.isNoE(t))return null;var n=QPU.isObject(e)&&!QPU.isNoE(e.getTime),r=QPU.isString(e)&&10===e.length&&2===QPU.occurrences(e,"-"),s=QPU.isString(e)&&19===e.length&&2===QPU.occurrences(e,"-")&&2===QPU.occurrences(e,":");if(!n&&!r&&!s)return null;t=QPU.getStringValue(t),QPU.isNoE(QPU.trim(t))&&(t="0000"),t=QPU.replaceFor(t,":",""),t=QPU.replaceFor(t,"+","");var i=1;if(QPU.contains(t,"-")&&(i=-1,t=QPU.replaceFor(t,"-","")),3===t.length&&(t="0"+t),4!==t.length)return null;var o=QPU.getIntValue(t.substr(0,2)),l=QPU.getIntValue(t.substr(2)),a=i*(60*o+l);return QPU.dateRelativeToOffsetInMinutes(a,new Date(e))},dateRelativeToOffsetInMinutes:function(e,t){t=t||new Date;var n=t.getTime(),r=t.getTimezoneOffset(),s=n+6e4*r;return new Date(s+6e4*e)},dateFromISO:function(e){return QPU.isNoE(e)?null:QPU.isDate(e)?e:!e.length||e.length<1?null:(e=e.split(/\D/),new Date(e[0],--e[1]||"",e[2]||"",e[3]||"",e[4]||"",e[5]||"",e[6]||""))},now:function(){return new Date},nowYMD:function(){return QPU.ymdFromDate(new Date)},nowYMDHMS:function(){return QPU.ymdhmsFromDate(new Date)},isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},isString:function(e){return"[object String]"===Object.prototype.toString.call(e)},isDate:function(e){return"[object Date]"===Object.prototype.toString.call(e)},isNumber:function(e){return"[object Number]"===Object.prototype.toString.call(e)},isRegExp:function(e){return"[object RegExp]"===Object.prototype.toString.call(e)},isBoolean:function(e){return"[object Boolean]"===Object.prototype.toString.call(e)},isInt:function(e){return QPU.isNumber(e)&&e%1==0},isFunction:function(e){return"[object Function]"===Object.prototype.toString.call(e)},isObject:function(e){return"undefined"!=typeof e&&null!==e&&"[object Object]"===Object.prototype.toString.call(e)},isJquery:function(e){return!QPU.isNoE(e)&&void 0!==e.jquery},getDateByAddingDaysToDate:function(e,t){if(QPU.isNoE(e))return null;var n=new Date(e);return n.setDate(n.getDate()+t),n},getDateBySubtractingDaysFromDate:function(e,t){return QPU.getDateByAddingDaysToDate(e,t*-1)},getDateByAddingMonthsToDate:function(e,t){if(QPU.isNoE(e))return null;var n=new Date(e);return n.setMonth(n.getMonth()+t),n},getDateByAddingYearsToDate:function(e,t){if(QPU.isNoE(e))return null;var n=new Date(e);return n.setFullYear(n.getFullYear()+t),n},getMondayOfWeekForDate:function(e){return QPU.getDateForDayOfWeekForDate(e,1)},getDateForDayOfWeekForDate:function(e,t){if(QPU.isNoE(e))return null;var n=new Date(e),r=n.getDay();return r==t?n:r<t?QPU.getDateBySubtractingDaysFromDate(n,r+1+(6-t)):QPU.getDateBySubtractingDaysFromDate(n,r-t)},getDateFromFirstOfMonthOfDate:function(e){if(QPU.isNoE(e))return null;var t=new Date(e);return t.setDate(1),t},getDateFromFirstOfYearOfDate:function(e){if(QPU.isNoE(e))return null;var t=new Date(e);return t.setDate(1),t.setMonth(0),t},numberOfDaysBetweenDatesABSInt:function(e,t){var n=Math.abs(QPU.numberOfDaysBetweenDates(e,t));return parseInt(n,10)},numberOfDaysBetweenDates:function(e,t){if(QPU.isNoE(e)||QPU.isNoE(t))return null;var n=QPU.getABSDateFromDate(e),r=QPU.getABSDateFromDate(t),s=864e5,i=(r.getTime()-n.getTime())/s;return parseInt(i,10)},getABSDateFromDate:function(e){if(QPU.isNoE(e))return null;var t=new Date(e);return t.setHours(0,0,0,0),t},setCookie:function(e,t,n){var r="",s=QPU.getIntValue(n);if(0!==s){var i=QPU.getDateByAddingDaysToDate(new Date,n);r="; expires="+i.toUTCString()}document.cookie=e+"="+t+r+"; path=/"},getCookie:function(e){var t,n,r=QPU.arrayFromString(document.cookie,";");if(QPU.isNoE(r))return null;for(var s=0;s<r.length;s++){var i=r[s];if(t=QPU.trim(QPU.fLeft(i,"=")),n=QPU.trim(QPU.fRight(i,"=")),t===e)return n}return null},deleteCookie:function(e){QPU.setCookie(e,"",-1)},findCookies:function(e,t){var n,r,s=QPU.arrayFromString(document.cookie,";"),i=[],o=t||!1;return QPU.isNoE(s)?null:(s.forEach(function(t){n=QPU.trim(QPU.fLeft(t,"=")),r=QPU.trim(QPU.fRight(t,"=")),QPU.contains(n,e,o)&&i.push({name:n,value:r})}),i.length>0?i:null)},isEmailValidFormat:function(e){var t=/^(([^<>()[\]\\.,;:\s@\"]+(\.[^<>()[\]\\.,;:\s@\"]+)*)|(\".+\"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return t.test(e)},breath:function(e){var t=10,n=[].slice.apply(arguments);if(!(n.length<1)){if(1===n.length?e=n[0]:2===n.length&&(t=n[0],e=n[1]),QPU.isFunction(t)){var r=e||null;e=t,t=r}if(QPU.isFunction(e)||QPU.isFunction(t)){var s=t||10;QPU.isNoE(e)||(s<1?e():setTimeout(e,s))}}},arrayFromString:function(e,t,n){if(QPU.isNoE(e))return null;var r=e.split(t);if(n){for(var s=r.length-1;s>=0;s--)QPU.isNoE(r[s])&&r.splice(s,1);return r.length<1?null:r}return r},commaSeparateNumber:function(e,t){if(t=t||",",QPU.isNoE(e))return e;e+="";if(e.match(/[^0-9\.]+/))return e;var n=QPU.occurrences(e,".");if(n>1)return e;for(var r=QPU.contains(e,".")?QPU.fLeft(e,"."):e,s=QPU.fRightBack(e,"."),i=/(\d+)(\d{3})/,o=r;i.test(o);)o=o.replace(i,"$1"+t+"$2");return QPU.isNoE(s)||(o+="."+s),o},unCamelCaseString:function(e){if(QPU.isNoE(e))return null;if(e.indexOf(" ")>-1)return e;var t=/([A-Z])([A-Z])([a-z])|([a-z])([A-Z])/g;return e.replace(t,"$1$4 $2$3$5")},definePackage:function(e){return QPU.definePod(e)},definePod:function(e){if(QPU.isNoE(e)||!QPU.isString(e))return null;if(!QPU.isNoE(QPU.window[e]))return QPU.window[e];for(var t=QPU.arrayFromString(e,".",!0),n=QPU.window,r=0;r<t.length;r++){var s=t[r];"this"!==s?(n[s]=n[s]||{},n=n[s],0===r&&(n.Common=n.Common||{})):console.error("YOU CANNOT HAVE POD NAMES WITH 'this' IN THEM")}return n},locationHREFWithoutResource:function(){var e=location.pathname.substring(0,location.pathname.lastIndexOf("/")+1),t=location.href.substr(0,location.href.indexOf("/",8));return t+e},prototypeNonEnumFunctionIfUndefined:function(e,t,n){QPU.isNoE(e)||QPU.isNoE(t)||QPU.isNoE(e.prototype[t])&&(QPU.isA(Object.defineProperty)?Object.defineProperty(e.prototype,t,{value:n}):e.prototype.name=n)},arrayIndexOf:function(e,t){if(QPU.isNoE(e)||QPU.isNoE(t))return-1;for(var n=0;n<e.length;n++)if(e[n]===t)return n;return-1},arrayContains:function(e,t){return e.indexOf(t)>-1},arrayPopElement:function(e,t){if(QPU.isNoE(e)||QPU.isNoE(t))return null;var n=e.indexOf(t);if(n>-1){var r=e.splice(n,1);return 1===r.length?r[0]:null}return null},arrayPopFirstElement:function(e){return QPU.isNoE(e)?null:e.splice(0,1)},arrayPopLastElement:function(e){return QPU.isNoE(e)?null:e.pop()},arrayPushUnique:function(e,t){"undefined"==typeof e||QPU.isNoE(t)||e.contains(t)||e.push(t)},arrayClone:function(e){return"undefined"==typeof e||null==e?null:e.slice(0)},arrayRandomItem:function(e){if(QPU.isNoE(e))return null;var t=QPU.roll(e.length);return e[t-1]},arrayForEach:function(e,t,n){"use strict";if(!QPU.isNoE(e)&&QPU.isFunction(t))for(var r=0;r<e.length;r++)t.call(n,e[r],r,e)},arrayExtend:function(e,t){if("undefined"!=typeof e&&null!=e&&!QPU.isNoE(t))for(var n=0;n<t.length;n++)e.push(t[n])},arrayCompare:function(e,t){if(QPU.isNoE(e)&&QPU.isNoE(t))return!0;if(QPU.isNoE(e)||QPU.isNoE(t))return!1;if(!QPU.isArray(e)||!QPU.isArray(t))return!1;if(e.length!=t.length)return!1;for(var n=0;n<e.length;n++)if(QPU.isArray(e[n])&&QPU.isArray(t[n])){if(!QPU.arrayCompare(e[n],t[n]))return!1}else if(e[n]!=t[n])return!1;return!0}}}(),function(){dateFormat=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,t=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,n=/[^-+\dA-Z]/g,r=function(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e};return function(s,i,o){var l=dateFormat;if(1!=arguments.length||"[object String]"!=Object.prototype.toString.call(s)||/\d/.test(s)||(i=s,s=void 0),s=s?new Date(s):new Date,isNaN(s))throw SyntaxError("invalid date");i=String(l.masks[i]||i||l.masks.default),"UTC:"==i.slice(0,4)&&(i=i.slice(4),o=!0);var a=o?"getUTC":"get",u=s[a+"Date"](),c=s[a+"Day"](),d=s[a+"Month"](),P=s[a+"FullYear"](),f=s[a+"Hours"](),m=s[a+"Minutes"](),p=s[a+"Seconds"](),Q=s[a+"Milliseconds"](),y=o?0:s.getTimezoneOffset(),g={d:u,dd:r(u),ddd:l.i18n.dayNames[c],dddd:l.i18n.dayNames[c+7],m:d+1,mm:r(d+1),mmm:l.i18n.monthNames[d],mmmm:l.i18n.monthNames[d+12],yy:String(P).slice(2),yyyy:P,h:f%12||12,hh:r(f%12||12),H:f,HH:r(f),M:m,MM:r(m),s:p,ss:r(p),l:r(Q,3),L:r(Q>99?Math.round(Q/10):Q),t:f<12?"a":"p",tt:f<12?"am":"pm",T:f<12?"A":"P",TT:f<12?"AM":"PM",Z:o?"UTC":(String(s).match(t)||[""]).pop().replace(n,""),o:(y>0?"-":"+")+r(100*Math.floor(Math.abs(y)/60)+Math.abs(y)%60,4),S:["th","st","nd","rd"][u%10>3?0:(u%100-u%10!=10)*u%10]};return i.replace(e,function(e){return e in g?g[e]:e.slice(1,e.length-1)})}}(),dateFormat.masks={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},dateFormat.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},Date.prototype.format=function(e,t){return dateFormat(this,e,t)}}(),function(){QPU.prototypeNonEnumFunctionIfUndefined(Array,"indexOf",function(e){return QPU.arrayIndexOf(this,e)}),QPU.prototypeNonEnumFunctionIfUndefined(Array,"contains",function(e){return QPU.arrayContains(this,e)}),QPU.prototypeNonEnumFunctionIfUndefined(Array,"popElement",function(e){return QPU.arrayPopElement(this,e)}),QPU.prototypeNonEnumFunctionIfUndefined(Array,"pushUnique",function(e){return QPU.arrayPushUnique(this,e)}),QPU.prototypeNonEnumFunctionIfUndefined(Array,"popFirstElement",function(){return QPU.arrayPopFirstElement(this)}),QPU.prototypeNonEnumFunctionIfUndefined(Array,"popLastElement",function(){return QPU.arrayPopLastElement(this)}),QPU.prototypeNonEnumFunctionIfUndefined(Array,"randomItem",function(){return QPU.arrayRandomItem(this)}),QPU.prototypeNonEnumFunctionIfUndefined(Array,"clone",function(){return QPU.arrayClone(this)}),QPU.prototypeNonEnumFunctionIfUndefined(Array,"forEach",function(e,t){return QPU.arrayForEach(this,e,t)}),QPU.prototypeNonEnumFunctionIfUndefined(Array,"extend",function(e){return QPU.arrayExtend(this,e)}),QPU.prototypeNonEnumFunctionIfUndefined(Array,"compare",function(e){return QPU.arrayCompare(this,e)})}(),function(){QPU.prototypeNonEnumFunctionIfUndefined(String,"trim",function(){return this.replace(/^\s+|\s+$/g,"")})}(),function(){var e,t=function(){},n=["assert","clear","count","debug","dir","dirxml","error","exception","group","groupCollapsed","groupEnd","info","log","markTimeline","profile","profileEnd","table","time","timeEnd","timeStamp","trace","warn"],r=n.length;for(console=QPU.window.console=QPU.window.console||console||{},console&&(Function.prototype.bind?(log="undefined"==typeof console.log?function(){}:Function.prototype.bind.call(console.log,console),logError="undefined"==typeof console.error?function(){}:Function.prototype.bind.call(console.error,console),logWarn="undefined"==typeof console.warn?function(){}:Function.prototype.bind.call(console.warn,console)):"undefined"==typeof console||null===console?(log=function(){},logError=function(){},logWarn=function(){}):(log=console.log||function(){},"undefined"==typeof console.error?logError=log:logError=console.error),logIf=function(e){if(e){var t=Array.prototype.slice.call(arguments);t.shift(),log.apply(this,t)}});r--;)e=n[r],console[e]||(console[e]=t)}(),Object.keys||(Object.keys=function(){"use strict";var e=Object.prototype.hasOwnProperty,t=!{toString:null}.propertyIsEnumerable("toString"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],r=n.length;return function(s){if("object"!=typeof s&&("function"!=typeof s||null===s))throw new TypeError("Object.keys called on non-object");var i,o,l=[];for(i in s)e.call(s,i)&&l.push(i);if(t)for(o=0;o<r;o++)e.call(s,n[o])&&l.push(n[o]);return l}}()),QPObserverController=function(){var e=this,t=[];return e.addObserver=function(e){QPU.isNoE(e)||t.pushUnique(e)},e.removeObserver=function(e){t.popElement(e)},e.removeAllObservers=function(){t=[]},e.tellAllObservers=function(n){for(var r=0;r<t.length;r++){var s=t[r],i=Array.prototype.slice.call(arguments);i.unshift(s),e.tellSingleObserver.apply(arguments.callee.caller,i)}},e.tellSingleObserver=function(e,t){if(e&&t){var n=null,r=Array.prototype.slice.call(arguments);r.shift(),r.shift(),e[t]?n=e[t]:e.callbackHandlers&&e.callbackHandlers[t]&&(n=e.callbackHandlers[t]),n&&n.apply(arguments.callee.caller,r)}},e.destroy=function(){t=null},e.getAllObserversListClone=function(){return t.clone()},e.isListener=function(e){if(!QPU.isNoE(e))for(var n=0;n<t.length;n++){var r=t[n];if(r===e)return!0}return!1},e},QPMAP=function(e){var t=null;if(!QPU.isNoE(e)){var n;if(QPU.isNoE(e.object)){var r=e.rootObject||jQuery(window);QPU.isNoE(e.selector)||(t=r.find(e.selector)),QPU.isNoE(t)&&(QPU.isNoE(e.className)||(t=r.find("."+e.className),QPU.isNoE(t)&&(t=r.filter("."+e.className))))}else t=e.object;if(!QPU.isNoE(t)&&!QPU.isNoE(e.bind)){n=Object.keys(e.bind);for(var s=0;s<n.length;s++)t.bind(n[s],e.bind[n[s]])}}return t||null},QPTools="undefined"==typeof QPTools?{}:QPTools,QPTools.QPInstaller=function(){var e="QPInstaller-Singleton-Object";if("undefined"==typeof window&&(window={}),window.Singletons="undefined"==typeof window.Singletons?{}:window.Singletons,window.Singletons[e])return window.Singletons[e];window.Singletons[e]=this;var t=this;t.completedItems=[],t.installMap=[],t.remainingItems=[],t.requestedURLHash={},t.requestedPeaItemHash={},t.availableSlots=50,t.totalCompleted=0;var n=function(){},r={debug:!1},s={resourceArray:"resourceArray"},i={install:function(e,t){var n=e,r=null;if(QPU.isNoE(n))return void o.executeCallback(t);QPU.isNoE(n.install)||QPU.isNoE(n.basePackURL)||(e=n.install,r=n.basePackURL||null),o.validateEnvironment();var s=o.convertInstallParametersToArray(e);if(QPU.isNoE(s)&&i.isConfigGroup(e)||o.isValidTypedResourceObject(e))s=e;else if(QPU.isNoE(s))return void o.executeCallback(t);o.addNewInstallRequest(s,t,r)},report:function(){log("+----- [ QPInstaller Report ] -------+"),log("| availableSlots",t.availableSlots),log("| map",t.installMap),log("+------------------------------------+")},isTypedResource:function(e){return!QPU.isNoE(e)&&(!QPU.isString(e)&&!QPU.isNoE(e[s.resourceArray]))},isConfigGroup:function(e){return!QPU.isNoE(e)&&(!QPU.isString(e)&&!QPU.isNoE(e[s.resourceArray]))},isRelativeURL:function(e){return!(QPU.isNoE(e)||!QPU.isString(e))&&(0!==e.indexOf("/")&&0!==e.toLowerCase().indexOf("http"))},getPeaItemNameFromURL:function(e){return QPU.isNoE(e)||QPU.isNoE(e.url)?null:e.isPPack||e.isPPod?(url=e.url.replace(/\/$/,""),QPU.fRightBack(url,"/")):null},loadItem:function(e){return o.loadItem(e)}},o={executeCallback:function(e){QPU.isNoE(e)||QPU.breath(function(){e()})},validateEnvironment:function(){"undefined"!=typeof $&&null!==$||($=jQuery),"undefined"!=typeof QPU&&null!==QPU||console.error("[QPU] is required to load before using the QPInstaller"),"undefined"!=typeof QPURLConnector&&null!==QPURLConnector||console.error("[QPURLConnector] is required to load before using the QPInstaller"),"undefined"!=typeof jQuery&&null!==jQuery||console.error("[jQuery] is required to load before using the QPInstaller")},convertInstallParametersToArray:function(e){return QPU.isArray(e)?e:QPU.isString(e)?[e]:null},isValidTypedResourceObject:function(e){return!QPU.isNoE(e)&&(QPU.isObject(e)&&!QPU.isNoE(e.url)&&!QPU.isNoE(e.type))},addNewInstallRequest:function(e,n,r){var s=new QPTools.QPInstallerItem(t.callbackHandlers,e,n);s.basePackURL=r,s.req.isValid()&&(t.remainingItems.push(s),o.doMoreWork())},loadItem:function(e){var t=!1,n=QPU.fRightBack(e.url,"."),s=o.resolveToFullyQualifiedURL(e.url);if(o.hasURLOrItemBeenRequested(s,e))return(r.debug||e.options.debug)&&log(e.id+": URL already loaded (skip):",e.url),void o.loadItemCompleteHelper(null,e);if("undefined"==typeof document||QPU.isNoE(document))return(r.debug||e.options.debug)&&log(e.id+": No document object (skip):",e.url),void o.loadItemCompleteHelper(null,e);var i=document.getElementsByTagName("head")[0];if(o.markURLOrItemAsAlreadyRequested(s,e),e.isPPod&&(e.url+="/config/ppod.config.json",s=o.resolveToFullyQualifiedURL(e.url)),e.isPPack){var l="/pack.config.js";e.basePackURL=e.url,e.url+=l,s=o.resolveToFullyQualifiedURL(e.url);var a=e.basePackURL;QPU.contains(a,"/")&&(a=QPU.fRightBack(a,"/")),QPPI="undefined"!=typeof QPPI?QPPI:{},QPPI.BaseURL="undefined"!=typeof QPPI.BaseURL?QPPI.BaseURL:{},QPPI.BaseURL[a]=e.basePackURL}if(e.isJS){var u;o.isURLAlreadyLinkedOnPage(s)?o.loadItemCompleteHelper(null,e):e.isPPack&&o.isPPackAlreadyLinkedOnPage(e.url,e)?o.loadItemCompleteHelper(null,e):(u=document.createElement("script"),u.charset="utf-8",u.src=e.url,u.onerror=u.error=function(){var t=new QPURLResponse;t.url=e.url,t.readyState=4,t.responseText=null,t.statusText="FAIL",t.status=404,t.contentType="js"===n?"javascript":"css",logError("Script failed to load, check URL",e.url,t),o.loadItemCompleteHelper(t,e)},u.onload=u.onreadystatechange=function(){if(!(t||u.readyState&&"loaded"!=u.readyState&&"complete"!=u.readyState)){t=!0;var r=new QPURLResponse;r.url=e.url,r.readyState=4,r.responseText=null,r.statusText="OK",r.status=200,r.contentType="js"===n?"javascript":"css",o.loadItemCompleteHelper(r,e)}},i.appendChild(u))}else if(e.isCSS){var c=document.createElement("link"),d="qpInstalledCSS-"+(new Date).getTime(),P=20,f=120;c.type="text/css",c.rel="stylesheet",c.id=d,c.href=e.url,c.totalPollingMils=0,c.loadSuccess=function(){t=!0;var n={url:e.url,readyState:4,responseText:null,statusText:"OK",status:200,contentType:"css"},r=new QPURLResponse(n);o.loadItemCompleteHelper(r,e)},c.loadTimeout=function(){var t=new QPURLResponse;t.url=e.url,t.readyState=4,t.responseText=null,t.statusText="FAIL",t.status=404,t.contentType="css",logError("CSS load timed out, check URL: "+e.url,t),o.loadItemCompleteHelper(t,e)},c.checkForComplete=function(){c.totalPollingMils+=P;var e=!1;try{var t,n,r,s=document.styleSheets;for(t=0,n=s.length;t<n;t++)if(r="undefined"==typeof s[t].ownerNode?s[t].owningElement.id:s[t].ownerNode.id,r===d){e=!0;break}}catch(e){}e?c.loadSuccess():c.totalPollingMils/1e3>=f?c.loadTimeout():QPU.breath(P,c.checkForComplete)},i.appendChild(c),QPU.breath(c.checkForComplete)}else{var m=new QPURLConnector({urlConnectorPullSucceeded:function(t){o.loadItemCompleteHelper(t,e)},urlConnectorPullFailed:function(t){o.loadItemCompleteHelper(t,e)}},e.url);m.req.start()}},loadItemCompleteHelper:function(e,n){t.installMap.push(n.url),QPU.isNoE(e)||e.req.is200Type()||logError(n.id+": Resource ["+n.url+"] was unsuccessful at loading. It was not marked as complete and thus things may fail downstream."),QPU.isA(e)&&o.processLoadedFile(e,n),QPU.breath(n.req.markResourceAsLoaded)},resolveToFullyQualifiedURL:function(e){if("undefined"==typeof document||QPU.isNoE(document))return e;e=QPU.normalizeUrl(e);var t=document.createElement("div");return t.innerHTML='<a href="'+o.escapeHTMLString(e)+'">x</a>',t.firstChild.href},hasURLOrItemBeenRequested:function(e,n){if(QPU.isNoE(n)&&QPU.isNoE(e))return!1;if(!QPU.isNoE(t.requestedURLHash[e]))return!0;if(!QPU.isNoE(n)&&n.isPPack){var r=i.getPeaItemNameFromURL(n);return!QPU.isNoE(t.requestedPeaItemHash[r])}return!1},markURLOrItemAsAlreadyRequested:function(e,n){if(n.isPPack){var r=i.getPeaItemNameFromURL(n);o.hasAnotherVersionOfItemAlreadyBeenRequested(e,n)&&logError("Different versions of this PeaPack are being installed. This will likely result in errors.",r),t.requestedPeaItemHash[r]=new Date}else t.requestedURLHash[e]=new Date},hasAnotherVersionOfItemAlreadyBeenRequested:function(e,n){if(!n.isPPack)return!1;for(var r=i.getPeaItemNameFromURL(n),s=QPU.contains(r,"_")?QPU.fLeft(r,"_"):r,o=Object.keys(t.requestedPeaItemHash),l=0;l<o.length;l++){var a=o[l];if(QPU.startsWith(a,s)&&a!==s)return!0}return!1},removeCommentsFromConfigFile:function(e){return e=e.replace(/\/\/[^\n]*\n/g,""),e=e.replace(/\/\*([\s\S]*?)\*\//g,"")},cleanResourceArrayURLs:function(e,t){for(var n=0;n<e.length;n++){var r=e[n],s=null;try{s=JSON.parse(r)}catch(e){}if(QPU.isNoE(s)){if(QPU.isString(r))i.isRelativeURL(r)&&!QPU.isNoE(t)&&(e[n]=t+"/"+r);else if(QPU.isArray(r))o.cleanResourceArrayURLs(r,t);else if(!QPU.isNoE(r.resourceArray)){var l=r.resourceArray,a=r.basePath,u=t;QPU.isNoE(a)||(u=u+"/"+a),o.cleanResourceArrayURLs(l,u)}}else{var c=s.url,d=o.cleanResourceArrayURLs([c]);QPU.isNoE(d)||(c=d[0]),e[n]=s}}return e},escapeHTMLString:function(e){return QPU.isNoE(e)?e:e.split("&").join("&amp;").split("<").join("&lt;").split('"').join("&quot;")},isURLAlreadyLinkedOnPage:function(e){for(var t=document.getElementsByTagName("script"),n=0;n<t.length;n++){var r=t[n],s=o.resolveToFullyQualifiedURL(r.src);if(s===e)return!0}return!1},isPPackAlreadyLinkedOnPage:function(e,t){for(var n=QPU.fLeftBack(e,"/"),r=QPU.fRightBack(n,"/"),s=document.getElementsByTagName("script"),i=0;i<s.length;i++){var l=s[i],a=o.resolveToFullyQualifiedURL(l.src);if(t.isPPack){var u=QPU.fRightBack(a,"/");if(u===r)return!0}}return!1},doMoreWork:function(){for(var e=0;e<t.remainingItems.length;e++){if(t.availableSlots<1)return;var n=t.remainingItems[e];t.availableSlots=n.req.doWork(t.availableSlots)}},processLoadedFile:function(e,t){if(!QPU.isNoE(e)&&e.req.is200Type())if(t.isTemplate)o.processTemplateFile(e,t);else if(t.isConfigFile)o.processInstallConfigFile(e,t);else if(t.isCSS);else if(t.isJS||t.isPPack||t.isPPod)if(QPU.endsWith(e.url,"pack.config.js")){if(QPU.isA(QPPI)&&QPU.isA(QPPI.Config)){var n=QPU.fRightBack(t.basePackURL,"/"),r=QPPI.Config[n];e.responseText=JSON.stringify(r),o.processInstallConfigFile(e,t)}}else QPU.isNoE(t.basePackURL)||console.warn("PPack loading disabled");else logError("We were asked to process a file of an unknown type ["+e.url+"]. Use '.js', 'css', '.config.json' or '.template.html' ")},processTemplateFile:function(e,t){if(e.req.is200Type()){var n=jQuery(e.responseText),r=jQuery(n).find("div[type=template]");(QPU.isNoE(r)||r.length<1)&&(r=jQuery(n).filter("div[type=template]"));for(var s=0;s<r.length;s++){var i=jQuery(r[s]),o=i.attr("templateName"),l=i.html();QPU.isNoE(o)?logError('Template found without attribute "templateName". Discarding. From: '+e.url):QPU.isNoE(l)?logError("Template found without a value. Discarding. From: "+e.url):QPTemplates.setTemplateValue(o,l)}}},processInstallConfigFile:function(e,t){if(!QPU.isNoE(e)&&e.req.is200Type()){var n=e.responseText,r=null;try{var s=o.removeCommentsFromConfigFile(n);r=JSON.parse(s)}catch(t){return void logError("Installer Config file failed to parse. Check JSON structure and format. From: "+e.url,s)}if(QPU.isNoE(r))return void logError("This config file appears to not be formatted correctly.",r);if(QPU.isNoE(r.resourceArray))return;var i=QPU.fLeftBack(e.url,"/");o.cleanResourceArrayURLs(r.resourceArray,i),QPU.isNoE(r.id)||(t.id=r.id),QPU.isNoE(r.debug)||(t.options.debug=QPU.getBooleanValue(r.debug)),t.req.addResources(r)}}},l={QPInstallerItemEntirelyFinished:function(e){t.remainingItems.popElement(e),t.completedItems.push(e),QPU.isNoE(t.remainingItems)&&(r.debug||e.options.debug)&&log("Item totally loaded",e),t.availableSlots++,o.doMoreWork()},QPInstallerItemPartiallyFinished:function(e){t.availableSlots++,o.doMoreWork()}};return t.req=i||null,t.options=r||null,t.callbackHandlers=l||null,n(),t},QPTools.QPInstallerItem=function(delegateRef,inResources,inCallback,inId){var my=this,delegate=delegateRef||null;my.completedItems=[],my.remainingItems=[],my.onCondition=null,my.url=null,my.basePackURL=null,my.id=QPU.getStringValue(inId),my.callback=QPU.isFunction(inCallback)?inCallback:null,my.isBlocker=!1,my.isFinished=!0,my.isWorking=!1,my.isCoreURLResource=!1,my.isJS=!1,my.isCSS=!1,my.isConfigFile=!1,my.isPPack=!1,my.isPPod=!1,my.isTemplate=!1;var delegateCallbacks={QPInstallerItemEntirelyFinished:function(e){delegate&&delegate.QPInstallerItemEntirelyFinished&&delegate.QPInstallerItemEntirelyFinished(e)},QPInstallerItemPartiallyFinished:function(e){delegate&&delegate.QPInstallerItemPartiallyFinished&&delegate.QPInstallerItemPartiallyFinished(e);
}},initialize=function(){internals.addExtendedElements(inResources),internals.processResources(inResources)},options={debug:!1},CONST={resourceArray:"resourceArray"},req={isValid:function(){return!(QPU.isNoE(my.remainingItems)&&QPU.isNoE(my.completedItems))},setTypeExplicitly:function(e){if(internals.clearItemTypeValues(),QPU.isA(e)){var t=e.toUpperCase();"CSS"===t?my.isCSS=!0:"TEMPLATE"===t?my.isTemplate=!0:"CONFIG"===t?my.isConfigFile=!0:"PPACK"===t?(my.PPACK=!0,my.isJS=!0):"PPOD"===t?my.isPPod=!0:"JS"!==t&&"JAVASCRIPT"!==t||(my.isJS=!0)}},doWork:function(e){if(my.isFinished)return e;if(!internals.passesOnCondition())return my.isFinished=!0,my.options.debug&&log(my.id+": Did not pass condition, skipping"),QPU.breath(internals.markAsFinished),e-=1;if(my.isCoreURLResource&&my.isWorking)return e;if((QPU.isNoE(e)||QPU.getIntValue(e)<1)&&(e=10),my.isCoreURLResource){my.options.debug&&log(my.id+": Started loading",my.remainingItems[0]),my.isWorking=!0;var t=new QPTools.QPInstaller;return t.req.loadItem(my),e-=1}for(var n=0;n<my.remainingItems.length;n++){var r=my.remainingItems[n];if(my.options.debug&&(r.options.debug=!0),e=r.req.doWork(e),e<1)break;if(r.isBlocker)break}return e},markResourceAsLoaded:function(){if(my.isCoreURLResource){var e=my.remainingItems[0];my.remainingItems.popElement(e),my.completedItems.push(e)}QPU.isNoE(my.remainingItems)?internals.markAsFinished():internals.markAsPartiallyFinished()},addResources:function(e){if(my.isCoreURLResource){my.isCoreURLResource=!1;var t=my.remainingItems[0];my.remainingItems.popElement(t),my.completedItems.push(t),my.url=null,internals.setItemTypeValues()}internals.processResources(e)}},internals={processResources:function(e){var t=internals.convertInstallParametersToArray(e);if(!QPU.isNoE(t))if(internals.isValidConfigObject(t[0])&&(t=internals.convertInstallParametersToArray(t[0][CONST.resourceArray])),0===my.completedItems.length&&1===t.length&&QPU.isString(t[0]))internals.addItemToRemainingItems(t[0]),my.isCoreURLResource=!0,my.url=QPU.normalizeUrl(t[0]),internals.setItemTypeValues();else{var n,r,s;for(r=0;r<t.length;r++)if(s=t[r],QPU.isArray(s)||QPU.isString(s)||internals.isValidConfigObject(s)||internals.isValidTypedResourceObject(s)){if(internals.isValidTypedResourceObject(s)){var i=s.url;n=new QPTools.QPInstallerItem(my.callbackHandlers,i,null,QPU.getStringValue(my.id)+"-"+r),n.req.setTypeExplicitly(s.type)}else n=new QPTools.QPInstallerItem(my.callbackHandlers,s,null,QPU.getStringValue(my.id)+"-"+r);my.options.debug&&(n.options.debug=!0),n.basePackURL=QPU.normalizeUrl(my.basePackURL),n.req.isValid()?internals.addItemToRemainingItems(n):my.options.debug&&logError("Resource Item not valid after mapping:",s,n)}else my.options.debug&&logError("Unknown resource object type:",s)}},addItemToRemainingItems:function(e){my.isFinished=!1,my.remainingItems.push(e)},convertInstallParametersToArray:function(e){return QPU.isArray(e)?e:QPU.isString(e)?[e]:internals.isValidTypedResourceObject(e)?[e]:internals.isValidConfigObject(e)?[e]:null},isBlockerTypeOfResourceList:function(e){return!!(QPU.isArray(e)&&e.length>0)||!!internals.isValidConfigObject(e)},isValidConfigObject:function(e){return!QPU.isNoE(e)&&(QPU.isObject(e)&&!QPU.isNoE(e[CONST.resourceArray]))},isValidTypedResourceObject:function(e){return!QPU.isNoE(e)&&(QPU.isObject(e)&&!QPU.isNoE(e.url)&&!QPU.isNoE(e.type))},addExtendedElements:function(e){internals.isBlockerTypeOfResourceList(e)&&(my.isBlocker=!0),QPU.isNoE(e.id)||(my.id=e.id),QPU.isNoE(inCallback)&&!QPU.isNoE(e.callback)&&(my.callback=e.callback),QPU.isNoE(e.onCondition)||(my.onCondition=e.onCondition),QPU.isNoE(e.debug)||(my.options.debug=QPU.getBooleanValue(e.debug))},markAsFinished:function(){my.options.debug&&log(my.id+": Marked as finished"),my.isFinished=!0,my.isWorking=!1,internals.executeCallback(),delegateCallbacks.QPInstallerItemEntirelyFinished(my)},markAsPartiallyFinished:function(){my.options.debug&&log(my.id+": Marked as partially finished"),delegateCallbacks.QPInstallerItemPartiallyFinished(my)},executeCallback:function(){if(!QPU.isNoE(my.callback))if(QPU.isFunction(my.callback))QPU.breath(function(){my.callback()});else try{eval(my.callback)}catch(e){logError(my.id+": We had trouble eval-ing your callback"),logError(e)}},passesOnCondition:function(){if(QPU.isNoE(my.onCondition))return!0;try{return eval(my.onCondition)}catch(e){logError("onCondition statment ["+my.onCondition+"] failed to evaluate properly",e)}return!1},setItemTypeValues:function(){internals.clearItemTypeValues();var e=QPU.contains(my.url,"?")?QPU.fLeft(my.url,"?"):my.url;my.isCSS=QPU.endsWith(e,".css",!0),my.isPPack=/\.ppack\/?$/i.test(e),my.isPPod=/\.ppod\/?$/i.test(e)||/\.ppart\/?$/i.test(e),my.isTemplate=QPU.endsWith(e,".template.htm",!0)||QPU.endsWith(e,".template.html",!0),my.isConfigFile=QPU.endsWith(e,".config.json",!0)||my.isPPod,my.isJS=QPU.endsWith(e,".js",!0),my.isPPack&&(my.isJS=!0)},clearItemTypeValues:function(){my.isJS=!1,my.isCSS=!1,my.isPPack=!1,my.isPPod=!1,my.isTemplate=!1,my.isConfigFile=!1},log:function(){my.options.debug&&log(my.id+": ",arguments)}},callbackHandlers={QPInstallerItemEntirelyFinished:function(e){my.remainingItems.popElement(e),my.completedItems.push(e),QPU.isNoE(my.remainingItems)?internals.markAsFinished():delegateCallbacks.QPInstallerItemPartiallyFinished(my)},QPInstallerItemPartiallyFinished:function(e){delegateCallbacks.QPInstallerItemPartiallyFinished(my)}};return my.req=req||null,my.options=options||null,my.callbackHandlers=callbackHandlers||null,initialize(),my},QPTools.QPTemplates=function(){var e=this;e.allTemplates={},e.getTemplateValue=function(t){var n=e.allTemplates[t];return QPU.isNoE(n)&&logError("Could not find a template with the name ["+t+"]. Check install commands."),e.allTemplates[t]},e.setTemplateValue=function(t,n){QPU.isNoE(t)||(QPU.isNoE(n)?delete e.allTemplates[t]:e.allTemplates[t]=n)},e.installTemplatesInString=function(e){var t=jQuery(e).find("div[type=template]");(QPU.isNoE(t)||t.length<1)&&(t=jQuery(e).filter("div[type=template]"));for(var n=0;n<t.length;n++){var r=jQuery(t[n]),s=r.attr("templateName"),i=r.html();QPU.isNoE(s)?logError('Template found without attribute "templateName". Discarding.'):QPU.isNoE(i)?logError("Template found without a value. Discarding."):QPTemplates.setTemplateValue(s,i)}}},QPTemplates=new QPTools.QPTemplates,QPTools.Objects="undefined"==typeof QPTools.Objects?{}:QPTools.Objects,QPTools.Objects.Installer=new QPTools.QPInstaller,QPInstall=function(e,t){return QPTools.Objects.Installer.req.install(e,t)},QPInstallReport=function(){return QPTools.Objects.Installer.req.report()},QPInstallMapReportJS=function(){QPInstallMapReport("js")},QPInstallMapReportCSS=function(){QPInstallMapReport("css")},QPInstallMapReportConfig=function(){QPInstallMapReport("config")},QPInstallMapReportTemplate=function(){QPInstallMapReport("template")},QPInstallMapReport=function(e){var t=QPTools.Objects.Installer.installMap;QPU.isNoE(t)||t.forEach(function(t){switch(e){case"js":(QPU.endsWith(t,".js",!0)||!QPU.isNoE(t)&&!QPU.contains(QPU.fRightBack(t,"/"),"."))&&log(t);break;case"css":QPU.endsWith(t,".css",!0)&&log(t);break;case"config":QPU.endsWith(t,".config.json",!0)&&log(t);break;case"template":(QPU.endsWith(t,".template.htm",!0)||QPU.endsWith(t,".template.html",!0))&&log(t);break;default:log(t)}})},QPLaunch=function(launchConfig){if(!QPU.isNoE(launchConfig)){var installParameter=launchConfig.install;QPU.isNoE(launchConfig.install)||QPU.isNoE(launchConfig.basePackURL)||(installParameter=launchConfig);var callTheCallbackFunction=function(e){var t=launchConfig.callback;if(!QPU.isNoE(launchConfig.callback)&&QPU.isString(launchConfig.callback)){var n=window[launchConfig.callback];t=QPU.isNoE(n)||"function"!=typeof n?null:n}QPU.isNoE(t)||"function"!=typeof t||t(e)};QPInstall(installParameter,function(){var vc=null,launchTimer=null,retryCountMax=500;launchConfig._qpLaunchRetryCount=0;var nowLaunch=function(){"undefined"!=typeof $&&null!==$||($=jQuery),clearTimeout(launchTimer),launchTimer=null;var launchItem=launchConfig.launch||null,configClassToLaunch=QPU.isNoE(launchItem)?null:launchItem.classToLaunch||null,configCallback=QPU.isNoE(launchConfig)?null:launchConfig.callback||null,options=QPU.isNoE(launchItem)?null:launchItem.options||null;if(QPU.isNoE(launchItem)||!QPU.isObject(launchItem)||QPU.isNoE(configClassToLaunch))callTheCallbackFunction(vc);else{var classToLaunchFunc=null;if(QPU.isString(configClassToLaunch))try{classToLaunchFunc=eval(configClassToLaunch)}catch(e){classToLaunchFunc=null}if(!QPU.isNoE(configClassToLaunch)&&QPU.isNoE(classToLaunchFunc))launchConfig._qpLaunchRetryCount++,launchConfig._qpLaunchRetryCount>retryCountMax?(logError("FAIL: Could not find class to launch named ["+classToLaunchFunc+"]"),callTheCallbackFunction(vc)):classToLaunchFunc=QPU.breath(50,nowLaunch);else{var cbHandler=launchItem.callbackHandler||null;!QPU.isNoE(cbHandler)&&QPU.isString(cbHandler)&&(cbHandler=window[cbHandler],!QPU.isNoE(cbHandler)&&QPU.isObject(cbHandler)||(cbHandler=null)),vc=new classToLaunchFunc(cbHandler||null);var viewObject=launchItem.fill;if(QPU.isString(viewObject)&&(QPU.startsWith(viewObject,".")||QPU.startsWith(viewObject,"#"))&&(viewObject=jQuery(viewObject)),!QPU.isNoE(viewObject)&&!QPU.isNoE(vc)&&!QPU.isNoE(vc.viewObject))try{viewObject.append(vc.viewObject)}catch(e){logError("Error installing viewObject. Check for circular references:",e)}QPU.isNoE(options)||QPU.isNoE(vc)||(QPU.isNoE(vc.req)||QPU.isNoE(vc.req.setAutoLaunchOptions)?QPU.isNoE(vc.setAutoLaunchOptions)?vc.autoLaunchOptions=options:vc.setAutoLaunchOptions(options):vc.req.setAutoLaunchOptions(options)),callTheCallbackFunction(vc)}}};nowLaunch()})}},QPTools="undefined"==typeof QPTools?{}:QPTools,QPTools.LaunchedPPackScripts="undefined"==typeof QPTools.LaunchedPPackScripts?{}:QPTools.LaunchedPPackScripts,QPTools.LaunchedPPackURLs="undefined"==typeof QPTools.LaunchedPPackURLs?{}:QPTools.LaunchedPPackURLs,QPLaunchPPack=function(url,launchConfig,inPpid){launchConfig=launchConfig||{},url=url.replace(/\/$/,""),url=QPU.endsWith("install.js")?url:url+"/install.js";var ppackName=QPTools.Objects.Installer.req.getPeaItemNameFromURL(url),fillSelector=launchConfig.fillSelector||"",installSuccess=launchConfig.installSuccess||"",installFail=launchConfig.installFail||"",callbackHandler=launchConfig.callbackHandler||"",options=launchConfig.options||"",ppid=inPpid||null,fullURLToPPack=url;if(!QPU.startsWith(fullURLToPPack,"http",!0)){var currentURLPath=location.href;QPU.endsWith(currentURLPath,"/")||(currentURLPath=QPU.fLeftBack(currentURLPath,"/")+"/"),fullURLToPPack=currentURLPath+fullURLToPPack}var _ppackURL=fullURLToPPack,_ppackFillSelector=fillSelector,_ppackInstallSuccess=installSuccess,_ppackInstallFail=installFail,_ppackOptions=options,_ppackCallbackHandler=callbackHandler,_ppackPPID=ppid,previouslyLoadedScript=QPTools.LaunchedPPackScripts[ppackName]||null;if(QPU.isNoE(previouslyLoadedScript)){var connection=new QPURLConnector({urlConnectorPullSucceeded:function(response){QPTools.LaunchedPPackScripts[ppackName]=response.responseText,QPTools.LaunchedPPackURLs[ppackName]=fullURLToPPack;try{eval(response.responseText)}catch(e){logError("PPack script failed to execute.",e)}},urlConnectorPullFailed:function(e){log("failure")}},url);connection.options.dataType="text",connection.req.start()}else{_ppackURL=QPTools.LaunchedPPackURLs[ppackName];try{eval(previouslyLoadedScript)}catch(e){logError("PPack script failed to execute.",e)}}},QPMAP=function(e){var t=null;if(!QPU.isNoE(e)){var n;if(QPU.isNoE(e.object)){var r=e.rootObject||jQuery(window);QPU.isNoE(e.selector)||(t=r.find(e.selector)),QPU.isNoE(t)&&(QPU.isNoE(e.className)||(t=r.find("."+e.className),QPU.isNoE(t)&&(t=r.filter("."+e.className))))}else t=e.object;if(!QPU.isNoE(t)&&!QPU.isNoE(e.bind)){n=Object.keys(e.bind);for(var s=0;s<n.length;s++)t.bind(n[s],e.bind[n[s]])}}return t||null},QPQueueController=function(e){var t=this,n=e||null,r=[],s=0,i=0,o=!1,l=!0,a={queueWorkItem:function(e,t,r){n&&n.queueWorkItem&&n.queueWorkItem(e,t,r)},queueProgress:function(e,t){n&&n.queueProgress&&n.queueProgress(e,t)},queueCompleted:function(e,t){n&&n.queueCompleted&&n.queueCompleted(e,t)},queueCanceled:function(e,t){n&&n.queueCanceled&&n.queueCanceled(e,t)}},u=function(){P.clear()},c={debug:!1,numberToWorkPerChunk:50,milsBetweenChunks:250},d={cancel:function(){l=!0},setQueue:function(e){l=!1,P.clear(),"undefined"==typeof e||null===e||e.length<1?a.queueCompleted(s,i):(r=[].concat(e),i=r.length,P.workQueue())},addToQueue:function(e){r.length<1?d.setQueue(e):(r=r.concat(e),i+=e.length,P.workQueue())}},P={workQueue:function(){if(!o){if(r.length<1)return a.queueCompleted(s,i),void P.clear();if(l)return a.queueCanceled(s,i),void P.clear();o=!0;for(var e=r.splice(0,c.numberToWorkPerChunk),t=0;t<e.length;t++){var n=e[t];if(a.queueWorkItem(n,s,i),s++,l)break}a.queueProgress(s,i),o=!1,setTimeout(P.workQueue,c.milsBetweenChunks)}},clear:function(){r=[],s=0,i=0,o=!1}};return t.req=d||null,t.options=c||null,t.delegateCallbacks=a||null,u(),t},QPResizableElements={classname:"mmResizable",useToolTips:!0,stylesAdded:!1,initialize:function(){if("undefined"!=typeof $&&null!=$){QPResizableElements._addResizeStyles();for(var e=jQuery("."+QPResizableElements.classname),t=0,n=e.length;t<n;++t){var r=e[t];r.onmouseover=QPResizableElements.mouseDidEnterOrLeave(r,"mouseenter",QPResizableElements.resizableStart)}}},contains:function(e,t){return e.contains?e.contains(t):!!(16&e.compareDocumentPosition(t))},mouseDidEnterOrLeave:function(e,t,n){var r="mouseenter"===t,s=r?"fromElement":"toElement";return function(t){t=t||window.event;var r=t.target||t.srcElement,i=t.relatedTarget||t[s];e!==r&&!QPResizableElements.contains(e,r)||QPResizableElements.contains(e,i)||n.call(e,t)}},resizableStart:function(e){if(!QPU.isNoE(e)){this.originalW=this.clientWidth,this.originalH=this.clientHeight;var t=QPResizableElements._getDocumentRelativeLeft(this),n=QPResizableElements._getDocumentRelativeTop(this);this.mmResizeTop=n,this.mmResizeLeft=t,this.onmousemove=QPResizableElements.resizableCheck,this.onmouseup=QPResizableElements.resizableEnd,this.onmouseout=QPResizableElements.mouseDidEnterOrLeave(this,"mouseleave",QPResizableElements.resizableEnd)}},resizableCheck:function(e){QPU.isNoE(e)||this.clientWidth===this.originalW&&this.clientHeight===this.originalH||(this.originalX=e.clientX,this.originalY=e.clientY,this.onmousemove=QPResizableElements.resizableMove)},resizableMove:function(e){if(!QPU.isNoE(e)){var t=this.originalW+e.clientX-this.originalX,n=this.originalH+e.clientY-this.originalY;if(t<this.originalW&&(this.style.width=t+"px"),n<this.originalH&&(this.style.height=n+"px"),QPResizableElements.useToolTips){var r=this.mmResizeTop||QPResizableElements._getDocumentRelativeLeft(this),s=this.mmResizeTop||QPResizableElements._getDocumentRelativeTop(this);QPResizableElements.TOOLTIP.show(t+" x "+n,r,s)}}},resizableEnd:function(){QPResizableElements.useToolTips&&QPResizableElements.TOOLTIP.hide(),this.onmousemove=this.onmouseout=this.onmouseup=null,this.mmResizeTop=null,this.mmResizeLeft=null},_getDocumentRelativeLeft:function(e){var t=0;do isNaN(e.offsetLeft)||(t+=e.offsetLeft);while(e=e.offsetParent);return t},_getDocumentRelativeTop:function(e){var t=0;do isNaN(e.offsetTop)||(t+=e.offsetTop);while(e=e.offsetParent);return t},_addResizeStyles:function(){if(!QPResizableElements.stylesAdded){QPResizableElements.stylesAdded=!0;var e=document.createElement("style");document.getElementsByTagName("head")[0].appendChild(e);var t=e.sheet;QPU.isNoE(t.addRule)?QPU.isNoE(t.insertRule)||(t.insertRule(".mmResizable         { overflow: auto; resize: both; }"),t.insertRule(".mmResizable > *     { resize: none; }")):(t.addRule(".mmResizable","overflow: auto; resize: both;"),t.addRule(".mmResizable > *","resize: none;"))}},TOOLTIP:{currentTip:null,aniMilsShowHide:200,style:{color:"#7D7D80",backgroundColor:"#F1F1F1",padding:"3px",paddingLeft:"7px",paddingRight:"7px",borderColor:"#7D7D80",borderStyle:"solid",borderWidth:"1px",position:"absolute",zIndex:"10000",top:"0px",left:"0px",fontFamily:"Arial, sans-serif",fontSize:"75%",opacity:"0"},_deferHideTimer:null,createTip:function(){QPResizableElements.TOOLTIP.destroy();var e=document.createElement("div");e.style.color=QPResizableElements.TOOLTIP.style.color,e.style.backgroundColor=QPResizableElements.TOOLTIP.style.backgroundColor,e.style.padding=QPResizableElements.TOOLTIP.style.padding,e.style.paddingLeft=QPResizableElements.TOOLTIP.style.paddingLeft,e.style.paddingRight=QPResizableElements.TOOLTIP.style.paddingRight,e.style.borderColor=QPResizableElements.TOOLTIP.style.borderColor,e.style.borderStyle=QPResizableElements.TOOLTIP.style.borderStyle,e.style.borderWidth=QPResizableElements.TOOLTIP.style.borderWidth,e.style.position=QPResizableElements.TOOLTIP.style.position,e.style.zIndex=QPResizableElements.TOOLTIP.style.zIndex,e.style.top=QPResizableElements.TOOLTIP.style.top,e.style.left=QPResizableElements.TOOLTIP.style.left,e.style.fontFamily=QPResizableElements.TOOLTIP.style.fontFamily,e.style.fontSize=QPResizableElements.TOOLTIP.style.fontSize,e.style.opacity=QPResizableElements.TOOLTIP.style.opacity;var t=jQuery(e);return t.css("-webkit-transition","all "+QPResizableElements.TOOLTIP.aniMilsShowHide+"ms ease-out","0"),t.css("-moz-transition","all "+QPResizableElements.TOOLTIP.aniMilsShowHide+"ms ease-out","0"),t.css("-o-transition","all "+QPResizableElements.TOOLTIP.aniMilsShowHide+"ms ease-out","0"),t.css("transition","all "+QPResizableElements.TOOLTIP.aniMilsShowHide+"ms ease-out","0"),e.innerHTML="",document.body.appendChild(e),QPResizableElements.TOOLTIP.currentTip=e},destroy:function(){null!==QPResizableElements.TOOLTIP.currentTip&&(QPResizableElements.TOOLTIP.currentTip.parentNode.removeChild(QPResizableElements.TOOLTIP.currentTip),QPResizableElements.TOOLTIP.currentTip=null)},get:function(){return QPResizableElements.TOOLTIP.currentTip||QPResizableElements.TOOLTIP.createTip()},populate:function(e){var t=QPResizableElements.TOOLTIP.get();t.innerHTML=e||""},position:function(e,t){var n=QPResizableElements.TOOLTIP.get();n.style.top=e+"px",n.style.left=t+"px"},show:function(e,t,n){QPResizableElements.TOOLTIP.cancelHideTimer();var r=QPResizableElements.TOOLTIP.get();QPResizableElements.TOOLTIP.populate(e),"undefined"!=typeof t&&null!==t&&"undefined"!=typeof n&&null!==n&&QPResizableElements.TOOLTIP.position(t,n),setTimeout(function(){r.style.opacity="1"},20)},hide:function(){QPResizableElements.TOOLTIP.startHideTimer()},startHideTimer:function(){QPResizableElements.TOOLTIP._deferHideTimer=setTimeout(QPResizableElements.TOOLTIP._executeHide,500)},cancelHideTimer:function(){null!==QPResizableElements.TOOLTIP._deferHideTimer&&(clearTimeout(QPResizableElements.TOOLTIP._deferHideTimer),QPResizableElements.TOOLTIP._deferHideTimer=null)},_executeHide:function(){var e=QPResizableElements.TOOLTIP.get();e.style.opacity="0",setTimeout(function(){QPResizableElements.TOOLTIP.destroy()},QPResizableElements.TOOLTIP.aniMilsShowHide)}}},setTimeout(QPResizableElements.initialize,500),QPResourceURL=function(){var e=null,t=null,n=null;return QPU.isNoE(arguments)||QPU.isNoE(arguments.length)||0===arguments.length?n=null:1===arguments.length?n=arguments[0]:arguments.length>1&&(e=arguments[0],t=arguments[1],QPU.isNoE(t)?n=e||null:/^http[s]?:\/\//i.test(t)?n=t:QPU.contains(t,"resources/")?(t="resources/"+QPU.fRight(t,"resources/"),n=e+"/"+t):n=t),n},QPStopWatch={mark:function(e){QPStopWatch.exists(e)?QPStopWatch.print(e):QPStopWatch.INTERNAL.addItemWithName(e)},start:function(e){QPStopWatch.INTERNAL.addItemWithName(e)},stop:function(e){var t=QPStopWatch.INTERNAL.getTestCaseItemWithNames(e);return t.stop(),QPStopWatch.print(e)},print:function(e){return QPStopWatch.INTERNAL.debug(QPStopWatch.describe(e))},exists:function(e){var t=QPStopWatch.INTERNAL.getTestCaseItemWithNames(e);return null!=t},isRunning:function(e){var t=QPStopWatch.INTERNAL.getTestCaseItemWithNames(e);return null!=t&&t.isStopped},remove:function(e){QPStopWatch.INTERNAL.removeItemWithName(e)},describe:function(e){var t=QPStopWatch.INTERNAL.getTestCaseItemWithNames(e);return null!=t?1==t.isStopped?t.toString():t.toString()+" (running)":"No stopwatch named ["+e+"] found"},runtime:function(e){var t=QPStopWatch.INTERNAL.getTestCaseItemWithNames(e);return null!=t?t.isStopped?QPStopWatch.INTERNAL.runtimePretty(t):QPStopWatch.INTERNAL.runtimePretty(t)+" (running)":"No stopwatch named ["+e+"] found"},INTERNAL:{items:{},removeItemWithName:function(e){null!=e&&""!=e&&delete QPStopWatch.INTERNAL.items[e]},addItemWithName:function(e){null!=e&&""!=e&&(this.items[e]=new QPStopWatch.QPStopWatchItem(e))},getTestCaseItemWithNames:function(e){return null==e||""==e?null:this.items[e]},debug:function(e){return window.console&&console.log?console.log(e):window.opera&&opera.postError&&opera.postError(e),e},runtimePretty:function(e){var t=e.runtime(),n=36e5,r=6e4,s=1e3,i=e.getInt(t/n);t-=i*n;var o=e.getInt(t/r);t-=o*r;var l=e.getInt(t/s);t-=l*s;var a=t%1e3;return i>0?i+":"+e.numberZeroPadded(o)+":"+e.numberZeroPadded(l)+"."+a:o>0?o+":"+e.numberZeroPadded(l)+"."+a:l+"."+a}},QPStopWatchItem:function(e){this._name=e,this._started=new Date,this._stopped=null,this.isStopped=!1,this.stop=function(){this.isStopped||(this._stopped=new Date,this.isStopped=!0)},this.toString=function(){return"Stopwatch: ["+this._name+"] runtime: ["+this.runtimePretty()+"]"},this.runtime=function(){if(!this.isStopped){var e=new Date;return e.getTime()-this._started.getTime()}var t=this._stopped.getTime()-this._started.getTime();return t<0?0:t},this.numberZeroPadded=function(e){var t=""+e;return 2==t.length?t:1==t.length?"0"+t:0==t.length?"00":t},this.getInt=function(e){return null==e||e<0?0:Math.floor(e)}}},function(){QPT={observerController:new QPObserverController,options:{useHTMLDisplay:!0,consoleDisplayLevel:"FAIL"},observerCallbacks:{mmtUpdated:function(e){QPT.observerController.tellAllObservers("mmtUpdated",e)},mmtResultsCleared:function(){QPT.observerController.tellAllObservers("mmtResultsCleared")},mmtResultsClearedForModuleName:function(e){QPT.observerController.tellAllObservers("mmtResultsClearedForModuleName",e)}},clearResults:function(){QPT.results.clearResults(),QPT.htmlOutputs.clearOutput(),QPT.observerCallbacks.mmtResultsCleared()},clearResultsForModule:function(e){QPT.results.clearResultsForModule(e),QPT.observerCallbacks.mmtResultsClearedForModuleName(e)},assert:function(e,t,n,r){return QPT.internals.evaluate(e,t,n,r)},isEquals:function(e,t,n,r,s){var i=!1;return"undefined"!=typeof e&&"undefined"!=typeof t&&(i=e===t),QPT.internals.evaluate(i,n,r,s)},notEquals:function(e,t,n,r,s){var i=!1;return"undefined"!=typeof e&&"undefined"!=typeof t&&(i=e!==t),QPT.internals.evaluate(i,n,r,s)},isNull:function(e,t,n,r){var s=!1;return"undefined"!=typeof e&&(s=null==e),QPT.internals.evaluate(s,t,n,r)},notNull:function(e,t,n,r){var s=!1;return"undefined"!=typeof e&&(s=null!=e),QPT.internals.evaluate(s,t,n,r)},output:function(e,t,n){return QPT.outputs.output(e,t,n),!0},setIdForBrowserResults:function(e){null!=e&&(QPT.outputs.browserResultsId=e,QPT.outputs.setBrowserOutputObject())},getTestCaseByName:function(e,t){return QPT.results.getTestCaseItemWithNames(t,e)},getModuleByName:function(e){return QPT.results.getTestModuleWithName(e)},addObserver:function(e){QPT.observerController.addObserver(e)},removeObserver:function(e){QPT.observerController.removeObserver(e)},internals:{evaluate:function(e,t,n,r){return QPU.getBooleanValue(e)?QPT.outputs.outputPass(t,n,r):QPT.outputs.outputFail(t,n,r)},getModuleName:function(e){return QPU.isNoE(e)||"string"!=typeof e?"Generic Module":e},getTestCaseName:function(e){return QPU.isNoE(e)||"string"!=typeof e?"Generic Test":e},shouldConsoleLogAll:function(){return"ALL"===QPT.options.consoleDisplayLevel},shouldConsoleLogPass:function(){return"ALL"===QPT.options.consoleDisplayLevel},shouldConsoleLogFail:function(){return"ALL"===QPT.options.consoleDisplayLevel||"FAIL"===QPT.options.consoleDisplayLevel}},outputs:{outputPass:function(e,t,n){return e="[PASS] "+e,QPT.internals.shouldConsoleLogPass()&&console.log(e),QPT.results.addResults(n,t,!0,e),QPT.htmlOutputs.output(e,!0,t,n),!0},outputFail:function(e,t,n){return e="[FAIL] "+e,QPT.internals.shouldConsoleLogFail()&&(console.warn?console.warn(e):console.log(e)),QPT.results.addResults(n,t,!1,e),QPT.htmlOutputs.output(e,!1,t,n),!1},output:function(e,t,n){QPT.internals.shouldConsoleLogAll()&&console.log(e),QPT.results.addResults(n,t,null,e),QPT.htmlOutputs.output(e,null,t,n)}},htmlOutputs:{browserResultsId:"QPT_results_area",browserPassClass:"QPT_pass_class",browserFailClass:"QPT_fail_class",browserMessageClass:"QPT_message_class",browserTCFail:"QPT_tc_fail_class",browserTCPass:"QPT_tc_pass_class",browserOutputAreaClass:"QPT_test_area_class",browserTestTitleClass:"QPT_test_title_class",browserTitleAreaClass:"QPT_test_title_area_class",browserMessagesAreaClass:"QPT_test_messages_area_class",browserTestRuntimeClass:"QPT_test_runtime_class",browserOutputObject:null,hasBrowserOutputObject:function(){return QPT.htmlOutputs.setBrowserOutputObject(),null!=QPT.htmlOutputs.browserOutputObject},setBrowserOutputObject:function(){QPT.htmlOutputs.browserOutputObject=jQuery("#"+QPT.htmlOutputs.browserResultsId)},output:function(e,t,n,r){if(QPT.htmlOutputs.hasBrowserOutputObject()&&QPT.options.useHTMLDisplay){n=QPT.internals.getTestCaseName(n),r=QPT.internals.getModuleName(r);var s=QPT.htmlOutputs.getHTMLOutputAreaForTestName(n),i=s.find("."+QPT.htmlOutputs.browserMessagesAreaClass),o=jQuery("<div></div>");o.addClass(QPT.htmlOutputs.browserMessageClass),t?o.addClass(QPT.htmlOutputs.browserPassClass):null!==t&&o.addClass(QPT.htmlOutputs.browserFailClass),o.html(e.toString()),i.append(o);var l=!0,a=QPT.results.getTestModuleWithName(r);if(!QPU.isNoE(a)){var u=a.req.getTestCaseWithName(n);QPU.isNoE(u)||(l=u.isAllPassed)}l?i.parent().removeClass(QPT.htmlOutputs.browserTCFail).addClass(QPT.htmlOutputs.browserTCPass):i.parent().removeClass(QPT.htmlOutputs.browserTCPass).addClass(QPT.htmlOutputs.browserTCFail),QPT.htmlOutputs.updateLifespanDisplay(r,n,s)}},clearOutput:function(){QPT.htmlOutputs.hasBrowserOutputObject()&&QPT.options.useHTMLDisplay&&QPT.htmlOutputs.browserOutputObject.empty()},getHTMLOutputAreaForTestName:function(e){if(!QPT.htmlOutputs.hasBrowserOutputObject())return null;var t=QPT.htmlOutputs.getHTMLOutputAreaIdForTestName(e),n=jQuery("#"+t);if(QPU.isNoE(n)||n.length<1){n=jQuery("<div id='"+t+"'></div>"),n.addClass(QPT.htmlOutputs.browserOutputAreaClass),QPT.htmlOutputs.browserOutputObject.append(n);var r=jQuery("<div></div>");r.addClass(QPT.htmlOutputs.browserTitleAreaClass),n.append(r);var s=jQuery("<div></div>");s.addClass(QPT.htmlOutputs.browserTestTitleClass),s.html(e),r.append(s);var i=jQuery("<div></div>");i.addClass(QPT.htmlOutputs.browserTestRuntimeClass),i.html("13s"),r.append(i);var o=jQuery("<div></div>");o.addClass(QPT.htmlOutputs.browserMessagesAreaClass),n.append(o)}return n},getHTMLOutputAreaIdForTestName:function(e){return QPU.isNoE(e)&&(e="noTestName"),e=QPU.stripNonAlphaNumeric(e),"QPT_testoutput_"+e},updateLifespanDisplay:function(e,t,n){var r=QPT.results.getLifespanMills(e,t);if(!(QPU.isNoE(n)||n.length<1)){var s=n.find("."+QPT.htmlOutputs.browserTestRuntimeClass);s.length<1||s.html(QPT.utils.runtimePretty(r))}}},utils:{isNoE:function(e){return QPU.isNoE(e)},getInt:function(e){return QPU.getIntValue(e)},fRight:function(e){return QPU.fRight(e)},numberZeroPadded:function(e){var t=QPU.getStringValue(e);return 2==t.length?t:1==t.length?"0"+t:0==t.length?"00":void 0},runtimePretty:function(e){var t=Math.max(e,0),n=36e5,r=6e4,s=1e3,i=QPU.getIntValue(t/n);i<1&&(i=0),t-=i*n;var o=QPU.getIntValue(t/r);o<1&&(o=0),t-=o*r;var l=QPU.getIntValue(t/s);l<1&&(l=0),t-=l*s;var a=t/1e3;return a=QPU.fRight(a,"."),o>0?o+":"+QPT.utils.numberZeroPadded(Math.max(l,0))+"."+a:"0"==l&&""==a?"0.0":l+"."+a}},results:{testModules:[],testModulesByName:{},clearResults:function(){QPT.results.testModules=[],QPT.results.testModulesByName={}},clearResultsForModule:function(e){if(!QPU.isNoE(e)){var t=QPT.results.testModulesByName[e];QPU.isNoE(t)||(QPT.results.testModules.popElement(t),delete QPT.results.testModulesByName.moduleName)}},addResults:function(e,t,n,r){e=QPT.internals.getModuleName(e),t=QPT.internals.getTestCaseName(t);var s=QPT.results.getTestModuleWithName(e);QPU.isNoE(s)&&(s=QPT.results.createModuleWithName(e));var i=s.req.getTestCaseWithName(t);QPU.isNoE(i)&&(i=s.req.createItemWithName(t)),s.req.addResults(n,r),i.req.addResults(n,r),QPT.observerCallbacks.mmtUpdated(i)},createModuleWithName:function(e){if(QPU.isNoE(e))return null;var t=new QPT.results.QPTTestModuleItem(e);return QPT.results.testModulesByName[e]=t,QPT.results.testModules.push(t),t},getTestModuleWithName:function(e){if(QPU.isNoE(e)||"string"!=typeof e)return null;var t=QPT.results.testModulesByName[e];return QPU.isNoE(t)?null:t},getTestCaseItemWithNames:function(e,t){if(QPU.isNoE(t)||"string"!=typeof t)return null;var n=QPT.results.getTestModuleWithName(e);if(QPU.isNoE(n))return null;var r=n.req.getTestCaseWithName(t);return QPU.isNoE(r)?null:r},getLifespanMills:function(e,t){var n=QPT.getTestCaseByName(t,e);if(QPU.isNoE(n))return 0;var r=new Date;return r-n.birthday},QPTTestModuleItem:function(e){var t=this;t.name=e,t.testCases=[],t.testCasesByName={},t.birthday=null,t.lastUpdate=null,t.isAllPassed=!1,t.isAnyFailed=!1,t.observerController=new QPObserverController,t.observerCallbacks={qpTestModuleItemUpdated:function(e){t.observerController.tellAllObservers("qpTestModuleItemUpdated",e)},qpTestModuleItemTestCaseAdded:function(e){t.observerController.tellAllObservers("qpTestModuleItemTestCaseAdded",e)}},t.req={clearResults:function(){t.birthday=null,t.isAllPassed=!1,t.isAnyFailed=!1,QPU.isNoE(t.testCases)||t.testCases.forEach(function(e){e.req.clearResults()}),t.observerCallbacks.qpTestModuleItemUpdated(t)},hasTestResults:function(){if(!QPU.isNoE(t.testCases))for(var e=0;e<t.testCases.length;e++){var n=t.testCases[e];if(n.req.hasTestResults())return!0}return!1},addResults:function(e,n){QPU.isNoE(t.birthday)&&(t.birthday=new Date),t.lastUpdate=new Date,e===!1?(t.isAllPassed=!1,t.isAnyFailed=!0):e!==!0||t.isAnyFailed||(t.isAllPassed=!0),t.observerCallbacks.qpTestModuleItemUpdated(t)},getTestCaseWithName:function(e){return QPU.isNoE(e)?null:t.testCasesByName[e]},createItemWithName:function(e){if(QPU.isNoE(e))return null;var n=new QPT.results.QPTTestCaseItem(t.name,e);return t.testCasesByName[e]=n,t.testCases.push(n),t.observerCallbacks.qpTestModuleItemTestCaseAdded(t),n},addObserver:function(e){t.observerController.addObserver(e)},removeObserver:function(e){t.observerController.removeObserver(e)}}},QPTTestCaseItem:function(e,t){var n=this;n.moduleName=e,n.name=t,n.results=[],n.birthday=new Date,n.isAllPassed=!1,n.isAnyFailed=!1,n.moduleTestCaseIdKey=QPU.stripNonAlphaNumeric(e)+"_"+QPU.stripNonAlphaNumeric(t),n.observerController=new QPObserverController,n.observerCallbacks={qpTestCaseItemUpdated:function(e){n.observerController.tellAllObservers("qpTestCaseItemUpdated",e)}},n.req={clearResults:function(){n.birthday=null,n.lastUpdate=null,n.isAllPassed=!1,n.isAnyFailed=!1,n.results=[],n.observerCallbacks.qpTestCaseItemUpdated(n)},hasTestResults:function(){return n.results.length>0},addResults:function(e,t){QPU.isNoE(n.birthday)&&(n.birthday=new Date),n.lastUpdate=new Date;var r=new QPT.results.QPTTestResultItem(e,t);n.results.push(r),e===!1?(n.isAllPassed=!1,n.isAnyFailed=!0):e!==!0||n.isAnyFailed||(n.isAllPassed=!0),n.observerCallbacks.qpTestCaseItemUpdated(n)},addObserver:function(e){n.observerController.addObserver(e)},removeObserver:function(e){n.observerController.removeObserver(e)}}},QPTTestResultItem:function(e,t){var n=this;n.isPass=e,n.message=t,n.birthday=new Date}}}}();var singletonId="QPT-Singleton-Object";window.Singletons||(window.Singletons={}),window.Singletons[singletonId]||(window.Singletons[singletonId]=QPT);
var version_qpui=1.1;!function(e){"undefined"!=typeof QPUI&&!QPU.isNoE(QPUI)&&QPUI.version>=e||(QPUI={hasClass:function(e,t){if(e=QPUI.select(e),QPUI.isJQueryAvail(e))return jQuery(e).hasClass(t);if(QPUI.isArrayOrNodeList(e)){for(var n=0;n<e.length;n++){var r=e[n];if(QPUI.internals.elemRequest(QPUI.internals.hasClass,r,t))return!0}return!1}return QPUI.internals.elemRequest(QPUI.internals.hasClass,e,t)},addClass:function(e,t){return e=QPUI.select(e),QPU.isJquery(e)?jQuery(e).addClass(t):QPUI.internals.elemRequest(QPUI.internals.addClass,e,t)},removeClass:function(e,t){return e=QPUI.select(e),QPU.isJquery(e)?jQuery(e).removeClass(t):QPUI.internals.elemRequest(QPUI.internals.removeClass,e,t)},toggleClass:function(e,t){if(e=QPUI.select(e),QPU.isNoE(e))return null;if(QPUI.isArrayOrNodeList(e)){if(e.length<1)return e;for(var n=0;n<e.length;n++)QPUI.toggleClass(e[n],t)}else QPUI.hasClass(e,t)?QPUI.removeClass(e,t):QPUI.addClass(e,t);return e},includeClassIf:function(e,t,n){t=QPUI.select(t),QPUI.assertClass(e,t,n)},assertClass:function(e,t,n,r){t=QPUI.select(t),QPU.isNoE(t)||(QPU.getBooleanValue(e)?(QPUI.addClass(t,n),QPUI.removeClass(t,r)):(QPUI.removeClass(t,n),QPUI.addClass(t,r)))},select:function(e,t){return QPU.isNoE(e)?null:QPU.isString(e)?(QPU.isNoE(t)&&(t=document),QPUI.isJQueryAvail()?jQuery(t).find(e):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll(e):QPU.startsWith(e,".")?t.getElementsByClassName(QPU.fRight(e,".")):t.getElementById(QPU.fRight(e,"#"))):e},css:function(e,t,n){if(e=QPUI.select(e),QPU.isNoE(e)||QPU.isNoE(t))return null;if(QPUI.isJQueryAvail()){if("undefined"==typeof n)return jQuery(e).css(t);jQuery(e).css(t,n)}else{if(!(QPUI.isArrayOrNodeList(e)&&e.length>1))return QPUI.isArrayOrNodeList(e)&&1===e.length?QPUI.css(e[0],t,n):"undefined"==typeof n?e.currentStyle?e.currentStyle[QPUI.internals.camelizeDashedValues(t)]:document.defaultView&&document.defaultView.getComputedStyle?document.defaultView.getComputedStyle(e,null).getPropertyValue(t):QPU.isNoE(e.style)?null:e.style[QPUI.internals.camelizeDashedValues(t)]:(QPU.isNoE(e.style)||(e.style[t]=QPU.getStringValue(n)),e);for(var r=0;r<e.length;r++){var s=e[r];QPUI.css(s,t,n)}}return e},height:function(e,t){return e=QPUI.select(e),QPUI.isJQueryAvail()?"undefined"==typeof t?jQuery(e).height():jQuery(e).height(t):"undefined"==typeof t?QPUI.internals.getElemAttribute(e,"offsetHeight"):(t=t==QPU.getIntValue(t)?t+"px":t,t="px"===t?"":t,QPUI.css(e,"height",t))},width:function(e,t){return e=QPUI.select(e),QPUI.isJQueryAvail()?"undefined"==typeof t?jQuery(e).width():jQuery(e).width(t):"undefined"==typeof t?QPUI.internals.getElemAttribute(e,"offsetWidth"):(t=t==QPU.getIntValue(t)?t+"px":t,t="px"===t?"":t,QPUI.css(e,"width",t))},hide:function(e){return e=QPUI.select(e),QPUI.isJQueryAvail()?jQuery(e).hide():QPUI.css(e,"display","none")},show:function(e,t){return e=QPUI.select(e),QPUI.isJQueryAvail()?jQuery(e).show():(t=t||"",QPUI.css(e,"display",t))},getAbsURL:function(e){if(QPU.isNoE(e))return null;var t=document.createElement("a");t.href=e;var n=t.href,r=QPU.fLeft(n,"://"),s=QPU.fRight(n,"://");return s=QPU.replaceFor(s,"//","/"),r+"://"+s},isJQueryAvail:function(){return"undefined"!=typeof jQuery&&QPU.isFunction(jQuery)},isArrayOrNodeList:function(e){return"[object NodeList]"===Object.prototype.toString.call(e)||"[object Array]"===Object.prototype.toString.call(e)},isVisible:function(e){if(e=QPUI.select(e),QPUI.isJQueryAvail(e))return jQuery(e).is(":visible");if(QPUI.isArrayOrNodeList(e)){for(var t=0;t<e.length;t++){var n=e[t];if(QPUI.internals.isVisible(n))return!0}return!1}return QPUI.internals.isVisible(e)},isChecked:function(e){if(e=QPUI.select(e),QPUI.isJQueryAvail(e))return jQuery(e).is(":checked");if(QPUI.isArrayOrNodeList(e)){for(var t=0;t<e.length;t++){var n=e[t];if(n.checked===!0)return!0}return!1}return n.checked},version:e,internals:{elemRequest:function(e,t){if(QPU.isNoE(e)||QPU.isNoE(t)||QPUI.isArrayOrNodeList(t)&&t.length<1)return t;var n=[].slice.call(arguments,2),r=null,s=null;if(QPUI.isArrayOrNodeList(t)){for(var i=0;i<t.length;i++){var o=t[i];r=[e,o],r.extend(n),s=QPUI.internals.elemRequest.apply(this,r)}return s}return r=[t],r.extend(n),e.apply(this,r)},getElemAttribute:function(e,t){return QPU.isNoE(e)||QPUI.isArrayOrNodeList(e)&&e.length<1?null:QPUI.isArrayOrNodeList(e)&&e.length>0?QPUI.internals.getElemAttribute(e[0],t):QPU.isNoE(e[t])?null:e[t]},hasClass:function(e,t){if(e=QPUI.select(e),QPU.isNoE(e,t))return!1;var n=e.className.split(" ");return n.contains(t)},addClass:function(e,t){return e=QPUI.select(e),QPU.isNoE(e,t)?null:(QPUI.hasClass(e,t)||QPU.isNoE(t)||(e.className=e.className.length>0?e.className+" "+t:t),e)},removeClass:function(e,t){if(e=QPUI.select(e),QPU.isNoE(e,t))return null;if(QPUI.hasClass(e,t)){for(var n=e.className.split(" "),r="",s=0;s<n.length;s++){var i=n[s];i!==t&&(QPU.isNoE(i)||(r=r.length>0?r+" "+i:i))}e.className=r}return e},isVisible:function(e){if(e=QPUI.select(e),QPU.isNoE(e))return!1;var t=e.offsetWidth,n=e.offsetHeight;e.style.display;return(0!==t||0!==n)&&"none"!==QPUI.css(e,"display")}},camelizeDashedValues:function(e){return QPU.contains(e,"-")&&(e=attr.replace(/-(\w)/,function(e,t){return t.toUpperCase()})),e}})}(version_qpui),QPURLConnector=function(e,t,n){var r=this,s=e||null,i=t,o=n,l=!1;r.response=null;var a={urlConnectorPullSucceeded:function(e){s&&s.urlConnectorPullSucceeded&&s.urlConnectorPullSucceeded(e)},urlConnectorPullFailed:function(e){s&&s.urlConnectorPullFailed&&s.urlConnectorPullFailed(e)}},u=function(){},c={debug:!1,timeout:3e4,dataType:null,isJSONP:!1,cache:!0},d={start:function(){return l?void logWarn("URLConnection cannot be reused: "+i):(l=!0,void P.pullData())},setTimeoutSeconds:function(e){if(l)return void logWarn("URLConnection timeout cannot be set after connection has started: "+i);var t=QPU.getIntValue(e);t<1||(c.timeout=1e3*t)},enableCache:function(){return l?void logWarn("URLConnection cache settings cannot be set after connection has started: "+i):void(c.cache=!0)},disableCache:function(){return l?void logWarn("URLConnection cache settings cannot be set after connection has started: "+i):void(c.cache=!1)}},P={pullData:function(){var e=QPU.isNoE(o)?"GET":"POST",t={url:QPU.removeDblSlashFromURL(i),timeout:c.timeout,type:e,cache:c.cache,data:o};c.isJSONP?t.dataType="jsonp":QPU.isNoE(c.dataType)||(t.dataType=c.dataType),$.ajax(t).done(function(e,t,n){P.connectionCompleted(n)}).fail(function(e,t,n){P.connectionCompleted(e)})},connectionCompleted:function(e){e.url=i,r.response=new QPURLResponse(e),r.response.url=i,r.response.responseText=e.responseText,r.response.statusText=e.statusText,r.response.status=e.status,r.response.contentType=e.getResponseHeader("content-type"),r.response.connection=r,!QPU.isNoE(e.responseJSON)&&QPU.isObject(e.responseJSON)&&(r.response.responseText=JSON.stringify(e.responseJSON)),r.response.req.isSuccessful()?a.urlConnectorPullSucceeded(r.response):a.urlConnectorPullFailed(r.response)}},f={};return r.req=d||null,r.options=c||null,r.callbackHandlers=f||null,r.delegateCallbacks=a||null,u(),r},QPURLResponse=function(e){var t=this;t.url=null,t.responseText=null,t.statusText=null,t.status=null,t.contentType=null,t.connector=null;var n=function(){r.populateFromObject(e)},r={populateFromObject:function(e){QPU.isNoE(e)||s.populateFromObject(e)},isUnknownException:function(){return s.isStatusCodeEqualTo(0)},isSuccessful:function(){return r.is200Type()},is200Type:function(){return s.isStatusCodeInRange(200,299)},isRedirect:function(){return r.is300Type()},is300Type:function(){return s.isStatusCodeInRange(300,399)},isClientException:function(){return r.is400TypeException()},isNotFoundException:function(){return s.isStatusCodeEqualTo(404)},is400TypeException:function(){return s.isStatusCodeInRange(400,499)},isServerException:function(){return r.is500TypeException()},isInternalServerErrorException:function(){return s.isStatusCodeEqualTo(500)},isServerTimeoutException:function(){return s.isStatusCodeEqualTo(504)},is500TypeException:function(){return s.isStatusCodeInRange(500,599)},isOtherException:function(){return s.isStatusCodeEqualTo(504)},isCrossDomainAccessException:function(){return!!r.isOtherException()&&s.doesStatusContain("DOM Exception 19")},isNetworkUnavailableException:function(){return!!r.isOtherException()&&(!!s.doesStatusContain("DOM Exception 20")||!!QPU.isNoE(t.contentType))},isTypeJavaScript:function(){return QPU.contains(t.contentType,"javascript",!0)},isTypeCSS:function(){return QPU.contains(t.contentType,"css",!0)},isTypeJSON:function(){return QPU.contains(t.contentType,"json",!0)},isTypeText:function(){return QPU.contains(t.contentType,"text",!0)},isTypeXML:function(){return QPU.contains(t.contentType,"xml",!0)}},s={isStatusCodeEqualTo:function(e){return t.status==e},isStatusCodeInRange:function(e,n){return t.status>=e&&t.status<=n},doesStatusContain:function(e){return QPU.contains(t.statusText,e,!0)},populateFromObject:function(e){t.url=e.url||null,t.responseText=e.responseText||null,t.statusText=e.statusText||null,t.status=e.status||null,t.contentType=e.contentType||e.getResponseHeader("content-type")||null}};return t.req=r||null,n(),t};